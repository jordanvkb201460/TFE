{% extends "base.html.twig" %}
{% block title %}Experiences{% endblock %}
{% block body %}

<div class="jumbotron" style="margin:40px;padding:10px 20px 50px 20px">
  <h3 class="display-3">{{ exp.name }}</h3>
   {% if exp.isActive == 0 %}
    <h2 class="card text-white bg-danger mb-3">Experience cloturée</h2>
    {% endif %}
  <hr>
    <ul style="line-height:30px">
   
        <li> <font size = "5"> Compensation : {{exp.compensation}} €</font></li>
        <li> <font size = "5"> Age requirement : {{ exp.ageReq }}  </font> </li>
        <li> <font size = "5"> Sex requirement : {{ exp.sexReq }}  </font> </li>
        <li> <font size = "5"> Specifiq requirement : {{ exp.SpecifiqReq }}  </font> </li>
        <li> <font size = "5"> Free requirement : 
        {% if exp.freeReq == 1 %}
        Yes
        {%  else %}
        No
        {% endif %}</font></li>
        <li> <font size = "5"> Date début : {{ exp.dateDebut | date("d/m/Y")}}  </font> </li>
        <li> <font size = "5"> Date fin : {{ exp.dateFin  | date("d/m/Y")}}  </font> </li>
    </ul>
    
    {% if exp.isActive == 1 %}
    <a href="{{path('modifyExp', {'id' : exp.id, 'method' : 'modify'}) }}" style="float:right;margin:5px" class="btn btn-primary">Modify</a>
    <a href="{{path('closeExp', {'idExp' : exp.id }) }}" style="float:right;margin:5px" class="btn btn-primary">Close</a>
    {% endif %}
</div>


<div>
<h4 class="display-4">Participants</h4>
  <ul class="list-group">
   {% for participant in participants %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      {{participant.IdParticipant.Lastname}}

      <span>
        {% if participant.Validated == 1 %}
        Inscription validée
        {%  elseif participant.Validated == 3 %}
        Inscription en attente
        {%  else %}
        Inscription refusée
        {% endif %}
        {% if participant.Validated == 3 %}
        <a href="{{path('acceptRequest', {'idExp' : exp.id, 'idParticipant' : participant.IdParticipant.Id, 'validated' : "1"}) }}" type="button" class="btn btn-success">Accepter</a>
        <a href="{{path('acceptRequest', {'idExp' : exp.id, 'idParticipant' : participant.IdParticipant.Id, 'validated' : "2"}) }}" type="button" class="btn btn-danger">Refuser</a>
        {% endif %}
      </span>
    </li>
    {% endfor %}
  </ul>
</div>

{% endblock %}